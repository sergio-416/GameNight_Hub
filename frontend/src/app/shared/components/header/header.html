<header
	class="relative z-20 w-full border-b border-slate-200 bg-white/90 shadow-lg shadow-slate-700/5 after:absolute after:top-full after:left-0 after:z-10 after:block after:h-px after:w-full after:bg-slate-200 lg:border-slate-200 lg:backdrop-blur-sm lg:after:hidden"
>
	<div class="relative mx-auto max-w-full px-6 lg:max-w-5xl xl:max-w-7xl 2xl:max-w-384">
		<nav
			aria-label="main navigation"
			class="flex h-22 items-stretch justify-between font-medium text-slate-500"
			role="navigation"
		>
			<a
				id="GameNightHub"
				aria-label="GameNight Hub logo"
				class="flex items-center gap-2 py-3 text-lg whitespace-nowrap focus:outline-none lg:flex-1"
				routerLink="/home"
			>
				<img
					ngSrc="/GNH-isotype-header.png"
					alt="GameNight Hub Logo"
					width="80"
					height="80"
					class="h-18 w-20"
					aria-hidden="true"
					priority
				/>
				<span class="hidden text-3xl font-medium tracking-tight sm:inline">
					<span class="text-slate-500">GameNight</span>
					<span class="text-emerald-500">Hub</span>
				</span>
			</a>

			<button
				class="visible relative order-10 block h-10 w-10 self-center opacity-100 lg:hidden"
				aria-expanded="false"
				aria-label="Toggle navigation"
				(click)="toggleMobileMenu()"
			>
				<div class="absolute top-1/2 left-1/2 w-6 -translate-x-1/2 -translate-y-1/2 transform">
					<span
						aria-hidden="true"
						class="absolute block h-0.5 w-9/12 -translate-y-2 transform rounded-full bg-slate-900 transition-all duration-300"
					></span>
					<span
						aria-hidden="true"
						class="absolute block h-0.5 w-6 transform rounded-full bg-slate-900 transition duration-300"
					></span>
					<span
						aria-hidden="true"
						class="absolute block h-0.5 w-1/2 origin-top-left translate-y-2 transform rounded-full bg-slate-900 transition-all duration-300"
					></span>
				</div>
			</button>

			<ul
				role="menubar"
				aria-label="Select page"
				class="invisible absolute top-0 left-0 z-[-1] ml-auto h-screen w-full justify-center overflow-hidden overflow-y-auto overscroll-contain bg-white/90 px-8 pt-28 pb-12 text-lg font-normal opacity-0 transition-[opacity,visibility] duration-300 lg:visible lg:relative lg:top-0 lg:z-0 lg:flex lg:h-full lg:w-auto lg:items-stretch lg:overflow-visible lg:bg-white/0 lg:px-0 lg:py-0 lg:pt-0 lg:opacity-100"
				[class.invisible]="!isMobileMenuOpen()"
				[class.opacity-0]="!isMobileMenuOpen()"
				[class.visible]="isMobileMenuOpen()"
				[class.opacity-100]="isMobileMenuOpen()"
			>
				<li role="none" class="flex items-stretch">
					<a
						role="menuitem"
						routerLink="/home"
						routerLinkActive="text-emerald-500"
						[routerLinkActiveOptions]="{ exact: true }"
						class="flex items-center gap-2 py-4 transition-colors duration-300 hover:text-emerald-500 focus:bg-emerald-50 focus:outline-none focus-visible:outline-none lg:px-6"
						(click)="closeMobileMenu()"
					>
						<svg
							xmlns="http://www.w3.org/2000/svg"
							fill="none"
							viewBox="0 0 24 24"
							stroke-width="1.5"
							stroke="currentColor"
							class="h-5 w-5"
							aria-hidden="true"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"
							/>
						</svg>
						<span>Home</span>
					</a>
				</li>

				<li role="none" class="flex items-stretch">
					<a
						role="menuitem"
						routerLink="/collection"
						routerLinkActive="text-emerald-500"
						class="flex items-center gap-2 py-4 transition-colors duration-300 hover:text-emerald-500 focus:bg-emerald-50 focus:outline-none focus-visible:outline-none lg:px-6"
						(click)="closeMobileMenu()"
					>
						<svg
							xmlns="http://www.w3.org/2000/svg"
							fill="none"
							viewBox="0 0 24 24"
							stroke-width="1.5"
							stroke="currentColor"
							class="h-5 w-5"
							aria-hidden="true"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								d="M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"
							/>
						</svg>
						<span>Collection</span>
					</a>
				</li>

				<li role="none" class="flex items-stretch">
					<a
						role="menuitem"
						routerLink="/game-nights"
						routerLinkActive="text-emerald-500"
						class="flex items-center gap-2 py-4 transition-colors duration-300 hover:text-emerald-500 focus:bg-emerald-50 focus:outline-none focus-visible:outline-none lg:px-6"
						(click)="closeMobileMenu()"
					>
						<svg
							xmlns="http://www.w3.org/2000/svg"
							fill="none"
							viewBox="0 0 24 24"
							stroke-width="1.5"
							stroke="currentColor"
							class="h-5 w-5"
							aria-hidden="true"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"
							/>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"
							/>
						</svg>
						<span>Game Nights</span>
					</a>
				</li>

				<li role="none" class="flex items-stretch">
					<a
						role="menuitem"
						routerLink="/calendar"
						routerLinkActive="text-emerald-500"
						class="flex items-center gap-2 py-4 transition-colors duration-300 hover:text-emerald-500 focus:bg-emerald-50 focus:outline-none focus-visible:outline-none lg:px-6"
						(click)="closeMobileMenu()"
					>
						<svg
							xmlns="http://www.w3.org/2000/svg"
							fill="none"
							viewBox="0 0 24 24"
							stroke-width="1.5"
							stroke="currentColor"
							class="h-5 w-5"
							aria-hidden="true"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"
							/>
						</svg>
						<span>Calendar</span>
					</a>
				</li>

				<li role="none" class="flex items-stretch">
					<a
						role="menuitem"
						routerLink="/stats"
						routerLinkActive="text-emerald-500"
						class="flex items-center gap-2 py-4 transition-colors duration-300 hover:text-emerald-500 focus:bg-emerald-50 focus:outline-none focus-visible:outline-none lg:px-6"
						(click)="closeMobileMenu()"
					>
						<svg
							xmlns="http://www.w3.org/2000/svg"
							fill="none"
							viewBox="0 0 24 24"
							stroke-width="1.5"
							stroke="currentColor"
							class="h-5 w-5"
							aria-hidden="true"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"
							/>
						</svg>
						<span>Stats</span>
					</a>
				</li>
			</ul>

			<div class="ml-auto flex items-center gap-4 px-6 lg:ml-0 lg:p-0">
				@if (!isLoggedIn()) {
				<button
					class="inline-flex h-10 items-center justify-center gap-2 rounded bg-emerald-500 px-6 text-sm font-medium text-white shadow-md transition duration-300 hover:bg-emerald-600 hover:shadow-sm"
				>
					<svg
						xmlns="http://www.w3.org/2000/svg"
						fill="none"
						viewBox="0 0 24 24"
						stroke-width="1.5"
						stroke="currentColor"
						class="h-5 w-5 text-white"
						aria-hidden="true"
					>
						<path
							stroke-linecap="round"
							stroke-linejoin="round"
							d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"
						/>
					</svg>
					<span>Login</span>
				</button>

				} @if (isLoggedIn()) {
				<a
					href="#"
					class="relative inline-flex h-10 w-10 items-center justify-center rounded-full text-white"
					aria-label="User menu"
				>
					@if (userAvatar()) {
					<img
						[src]="userAvatar()"
						alt="User avatar"
						width="40"
						height="40"
						class="max-w-full rounded-full border-2 border-emerald-500"
					/>
					} @else {
					<div
						class="flex h-10 w-10 items-center justify-center rounded-full bg-emerald-100 text-emerald-600"
					>
						<svg
							xmlns="http://www.w3.org/2000/svg"
							fill="none"
							viewBox="0 0 24 24"
							stroke-width="1.5"
							stroke="currentColor"
							class="h-6 w-6"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"
							/>
						</svg>
					</div>
					} @if (notificationCount() > 0) {
					<span
						class="absolute -top-0.5 -right-0.5 inline-flex h-5 w-5 items-center justify-center rounded-full border-2 border-white bg-pink-500 text-xs text-white"
					>
						{{ notificationCount() }}
						<span class="sr-only">{{ notificationCount() }} new notifications</span>
					</span>
					}
				</a>
				}
			</div>
		</nav>
	</div>
</header>
